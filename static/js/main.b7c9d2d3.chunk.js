(this["webpackJsonptarea3-client"]=this["webpackJsonptarea3-client"]||[]).push([[0],{31:function(e,n,t){e.exports=t(70)},36:function(e,n,t){},67:function(e,n){},70:function(e,n,t){"use strict";t.r(n);var a=t(0),i=t.n(a),o=t(29),c=t.n(o),u=(t(36),t(6)),l=t(30),r=t.n(l),s=t(1);function d(e,n){var t=new s.a.api.visualization.DataTable;t.addColumn("datetime","Time"),Object.keys(e).forEach((function(e){t.addColumn("number",e)})),t.addRows(n);new s.a.api.visualization.LineChart(document.getElementById("line_chart_div")).draw(t,{title:"Acciones en el Tiempo",hAxis:{format:"hh:mm:ss",gridlines:{count:15}}})}function m(e,n,t,a,i,o){var c=new s.a.api.visualization.DataTable;c.addColumn("string","Stock"),c.addColumn("number","Vol. Total"),c.addColumn("number","Alto historico"),c.addColumn("number","Bajo historico"),c.addColumn("number","Ult precio"),c.addColumn("number","Cambio %");var u=[];e.forEach((function(e){var c=[];c.push(e),c.push(n[e]?n[e]:null),c.push(t[e]?t[e]:null),c.push(a[e]?a[e]:null),c.push(i[e]?i[e]:null),c.push(o[e]?o[e]:null),u.push(c)})),c.addRows(u);new s.a.api.visualization.Table(document.getElementById("stocks_table_div")).draw(c,{title:"Acciones y sus par\xe1metros"})}function v(e,n,t,a,i,o){var c=new s.a.api.visualization.DataTable;c.addColumn("string","Exchange"),c.addColumn("number","Vol. Compra"),c.addColumn("number","Vol. Venta"),c.addColumn("number","Vol. Total"),c.addColumn("number","Num acciones"),c.addColumn("number","% Participacion");var u=[];Object.keys(e).forEach((function(e){var c=[];c.push(e),c.push(n[e]?n[e]:null),c.push(t[e]?t[e]:null),c.push(a[e]?a[e]:null),c.push(i[e]?i[e]:null),c.push(o[e]?o[e]:null),u.push(c)})),c.addRows(u);new s.a.api.visualization.Table(document.getElementById("exchanges_table_div")).draw(c,{title:"Exchanges y sus par\xe1metros"})}var h=[],f={},p=[0],k=1,b=[],E={},C={},w={},g={},y={},O={},_={},j={},S=0,T={},x={},D={},A={},z={};var B=function(){var e=Object(a.useState)(""),n=Object(u.a)(e,2),t=n[0],o=n[1],c=Object(a.useState)(""),l=Object(u.a)(c,2),B=l[0],V=l[1],I=Object(a.useState)(""),L=Object(u.a)(I,2),N=L[0],R=L[1],U=function(e){o(e)},G=function(e){V(e)},H=function(){if("Disconnected"===t){var e=r()("wss://le-18262636.bitzonte.com",{path:"/stocks",origins:"*:*",transports:["websocket"]});!function(e){R(e)}(e),e.emit("STOCKS"),e.on("STOCKS",(function(e){e.forEach((function(e){_[e.company_name]=[e.ticker,e.country,e.quote_based]}))})),e.emit("EXCHANGES"),e.on("EXCHANGES",(function(e){Object.keys(e).forEach((function(n){j[n]=[e[n].name,e[n].country,e[n].address],e[n].listed_companies.forEach((function(e){O[_[e][0]]=n})),A[n]=e[n].listed_companies.length}))})),e.on("connect",(function(){U("Connected"),G("Disconnect")})),e.on("UPDATE",(function(e){if(e.ticker in f){var n=[].concat(p);n[0]=new Date(e.time),n[f[e.ticker]]=e.value,h.push(n),p=[].concat(n)}else{h.forEach((function(e){e.push(0)})),f[e.ticker]=k,k++;var t=[].concat(p);t[0]=new Date(e.time),t.push(e.value),h.push(t),p=[].concat(t)}C[e.ticker]=C[e.ticker]?e.value>C[e.ticker]?e.value:C[e.ticker]:e.value,w[e.ticker]=w[e.ticker]?e.value<w[e.ticker]?e.value:w[e.ticker]:e.value,y[e.ticker]=e.ticker in g?100*(e.value/g[e.ticker]-1):0,g[e.ticker]=e.value,-1===b.indexOf(e.ticker)&&b.push(e.ticker),s.a.load((function(){d(f,h),m(b,E,C,w,g,y),v(j,T,x,D,A,z)}))})),e.on("BUY",(function(e){E[e.ticker]=(E[e.ticker]||0)+e.volume,-1===b.indexOf(e.ticker)&&b.push(e.ticker);var n=O[e.ticker];T[n]=(T[n]||0)+e.volume,D[n]=(D[n]||0)+e.volume,S+=e.volume,Object.keys(D).forEach((function(e){z[e]=D[e]/S})),s.a.load((function(){d(f,h),m(b,E,C,w,g,y),v(j,T,x,D,A,z)}))})),e.on("SELL",(function(e){E[e.ticker]=(E[e.ticker]||0)+e.volume,-1===b.indexOf(e.ticker)&&b.push(e.ticker);var n=O[e.ticker];x[n]=(x[n]||0)+e.volume,D[n]=(D[n]||0)+e.volume,S+=e.volume,Object.keys(D).forEach((function(e){z[e]=D[e]/S})),s.a.load((function(){d(f,h),m(b,E,C,w,g,y),v(j,T,x,D,A,z)}))}))}else N.close(),U("Disconnected"),G("Connect")};return Object(a.useEffect)((function(){U("Disconnected"),G("Connect")}),[]),i.a.createElement("div",null,i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement("button",{onClick:function(){return H()}},B),i.a.createElement("p",null," ",t," ")),i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement("div",{id:"line_chart_div"}," "),i.a.createElement("div",{id:"stocks_table_div"}," "),i.a.createElement("div",{id:"exchanges_table_div"}," ")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.b7c9d2d3.chunk.js.map